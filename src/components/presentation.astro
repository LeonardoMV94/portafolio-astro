---
import ItemDevelopment from "./ItemDevelopment.astro";

const name = "Leonardo Mu√±oz";
const languages = ["Vue.js", "Nestjs", "Node.js"];
---
<div class="flex flex-col md:flex-row items-center md:items-start justify-center gap-12 w-full">
  <!-- Left: Greeting -->
  <div class="w-full md:w-1/2 text-center md:text-left">
    <h1 class="mb-5 text-4xl font-bold leading-tight md:text-4xl lg:text-6xl dark:text-white">
      Hello, I'm {name}.
    </h1>
  </div>

  <!-- Right: Description and carousel -->
  <div id="helpyou" class="w-full md:w-1/2">
    <p class="mb-6 text-base text-neutral-600 dark:text-neutral-400 text-center">
      <!-- I'm a Fullstack Developer in Chile. <br class="hidden lg:block" /> -->
      I focus on Web Applications development with performance and scalability.
    </p>
    <h2 class="mb-2 font-semibold text-neutral-800 dark:text-neutral-200 text-2xl flex justify-center">
      I can help you out with:
    </h2>

    <div class="py-2 relative h-12 overflow-hidden  flex justify-center">
      <div id="carousel" class="transition-transform duration-500 ease-in-out">        
        <ItemDevelopment icon="vue.js" text="Frontend Development" />
        <ItemDevelopment icon="nestjs" text="Backend Development" />
        <ItemDevelopment icon="node.js" text="Node.js Development" />
        <ItemDevelopment icon="docker" text="Dockerize your App" />
        <ItemDevelopment icon="grafana" text="Monitorize your App" />
        <ItemDevelopment icon="githubactions/white" text="Deploy your App" />
        <!-- <div class="gap-2 text-center text-neutral-500 dark:text-neutral-200 text-2xl h-8 whitespace-nowrap">
          <span>and more...</span>
        </div> -->
      </div>
    </div>
  </div>
</div>

<script>
  function initCarousel() {
    const carousel = document.getElementById('carousel');
    if (!carousel) return;

    const items = carousel.children;
    const totalItems = items.length;
    let currentIndex = 0;

    function showItem(index) {
      const translateY = -index * 48;
      carousel.style.transform = `translateY(${translateY}px)`;
    }

    function nextItem() {
      currentIndex = (currentIndex + 1) % totalItems;
      showItem(currentIndex);
    }

    showItem(0);
    setInterval(nextItem, 2000);
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initCarousel);
  } else {
    initCarousel();
  }

  document.addEventListener('astro:page-load', initCarousel);
</script>
